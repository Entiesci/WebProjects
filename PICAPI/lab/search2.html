
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>PIC API - 搜索</title>
	<link rel="shortcut icon" href="images/icon.png" type="image/x-icon">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
	<meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
	<meta name="author" content="FREEHTML5.CO" />
	<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <!-- 
	//////////////////////////////////////////////////////

	FREE HTML5 TEMPLATE 
	DESIGNED & DEVELOPED by FREEHTML5.CO
		
	Website: 		http://freehtml5.co/
	Email: 			info@freehtml5.co
	Twitter: 		http://twitter.com/fh5co
	Facebook: 		https://www.facebook.com/fh5co

	//////////////////////////////////////////////////////
	 -->

  <!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="favicon.ico">

	<!-- Google Webfonts -->
	<link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="../css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="../css/icomoon.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="../css/magnific-popup.css">
	<!-- Salvattore -->
	<link rel="stylesheet" href="../css/salvattore.css">
	<!-- Theme Style -->
	<link rel="stylesheet" href="../css/style.css">
	<!-- Modernizr JS -->
	<script src="../js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="../js/respond.min.js"></script>
	<![endif]-->

	</head>
	<body>
		
	<div id="fh5co-offcanvass">
		<a href="#" class="fh5co-offcanvass-close js-fh5co-offcanvass-close">Menu <i class="icon-cross"></i> </a>
		<h1 class="fh5co-logo"><a class="navbar-brand" href="index.html">PIC API</a></h1>
		<ul>
			<li><a href="../index.html">返回主页 / Home</a></li><br>
			<li><a href="index.html">实验室主页 / Lab</a></li>
			<li><a href="rank.html">日榜 / Pricing</a></li>
			<li class="active"><a href="search.html">搜索 / Search</a></li>
		</ul>
		<h3 class="fh5co-lead">Connect with us</h3>
		<p class="fh5co-social-icons">
			<a href="#"><i class="icon-twitter"></i></a>
			<a href="#"><i class="icon-facebook"></i></a>
			<a href="#"><i class="icon-instagram"></i></a>
			<a href="#"><i class="icon-dribbble"></i></a>
			<a href="#"><i class="icon-youtube"></i></a>
		</p>
	</div>
	<header id="fh5co-header" role="banner">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<a href="#" class="fh5co-menu-btn js-fh5co-menu-btn">Menu <i class="icon-menu"></i></a>
					<a class="navbar-brand" href="index.html">P.A.Lab</a>		
				</div>
			</div>
		</div>
	</header>
	<!-- END .header -->
	
	
	<div id="fh5co-main">
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2">
					<h2>搜索</h2>
					
					<div class="fh5co-spacer fh5co-spacer-sm"></div>

						<div class="row">
							
							<div class="col-md-12">
								<div class="fh5co-pricing-table">
									<h3>P.A.Lab</h3>
											此代替方案可以解决CORS错误及HTTP mixed错误<br>
											使用方法：
											<ol>
												<li>输入PID，点获取JSON，跳转至另一页面</li>
												<li>复制返回值的所有文字(有些浏览器(火狐)会自动格式化,请复制原始数据)</li>
												<li>将数据黏贴至大输入框,点击解析JSON</li>
												<li>查看结果</li>
											</ol>
									
								</div>
								<div class="form-group">            
									<input type="number"  class="form-control input-lg autofocus" id="ppid" placeholder="输入 PID" autocomplete="off" value="">
								</div>
								<div class="form-group">
									<input type="submit" class="btn btn-primary" value="获取JSON" onclick="get()">
								</div>
								<div class="fh5co-pricing-table">
									<h3>获取到的JSON（返回值）</h3>
									<div id="api"></div>
								</div>								
								<div class="form-group">           
									<div class="form-group">
										<textarea name="message" id="json" cols="30" class="form-control" rows="10" placeholder="输入获取到的JSON原数据 ..."></textarea>
									</div> 
								</div>
								<div class="form-group">
									<input type="submit" class="btn btn-primary" value="解析JSON" id="src">
								</div>
							</div>
						
							<div class="fh5co-spacer fh5co-spacer-sm"></div>
					<div class="row">
						<div class="col-md-6">
							<div class="fh5co-pricing-table">
								<h3>原图</h3>
								 <a id="pic2" class="image-popup fh5co-board-img"><img id="pic" alt="你要的图片没有啦~ （请检查你输入的PID或在PID后面加上编号如‘ 80699577-2’" class="img-rounded img-responsive"> </a>
								<!--br><a id="pic3" download="1.jpg" class="btn btn-block btn-sm btn-primary">下载原图</a-->
								 <br>
								 <h3>网址</h3>
										<li>图片网址（代理）：<span id="purl2"></span></li>
										<li>图片网址（原链）：<p id="purl"></p></li>
								
							</div>
						</div>
						<div class="col-md-6">
							<div class="fh5co-pricing-table">
								<h3>图片信息</h3>
								<li>图片标题：<span id="title"></span></li>
								<li>图片数量：<span id="nums"></span></li>
								<li>作者：<span id="user"></span></li>
								<li>发布日期：<span id="time"></span></li>
								<br>
								<div class="fh5co-pricing-table">
									<h3>简介</h3>
											<span id="cap"></span>
								</div>
								<div class="fh5co-pricing-table">
									<h3>标签</h3>
											<span id="tags"></span>
								</div>
								<div class="fh5co-pricing-table">
									<h3>ID</h3>
										<li>作者UID：<span id="uid"></span></li>
										
										<li>图片PID：<span id="pid"></span></li>
								</div>
								<div class="fh5co-pricing-table">
									<h3>热门度</h3>
										<li>收藏：<span id="bkm"></span></li>
										<li>观看：<span id="view"></span></li>
								</div>
							</div>
						</div>
			
						</div>
					</div>
						</div>
			
				</div>
        		
        	</div>
       </div>
	</div>
	

	<footer id="fh5co-footer">
		
		<div class="container">
			<div class="row row-padded">
				<div class="col-md-12 text-center">
					<p class="fh5co-social-icons">
						<a href="#"><i class="icon-twitter"></i></a>
						<a href="#"><i class="icon-facebook"></i></a>
						<a href="#"><i class="icon-instagram"></i></a>
						<a href="#"><i class="icon-dribbble"></i></a>
						<a href="#"><i class="icon-youtube"></i></a>
					</p>
					<p><small>&copy; PIC API. All Rights Reserved. <br>All by <a href="https://ntsc-yrx.github.io">ntsc-yrx</a> </small></p>
				</div>
			</div>
		</div>
	</footer>


	<!-- jQuery -->
	<script src="../js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="../js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="../js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="../js/jquery.waypoints.min.js"></script>
	<!-- Magnific Popup -->
	<script src="../js/jquery.magnific-popup.min.js"></script>
	<!-- Salvattore -->
	<script src="../js/salvattore.min.js"></script>
	<!-- Main JS -->
	<script src="../js/main.js"></script>


<script type="application/javascript">
  //监听按钮点击事件
$("#src").click(function() {
		  var pjson = document.getElementById("json").value;
		  
				  var data = JSON.parse(pjson);
				  //控制台输出
				  console.log(data);

				  var purl=data.illust.meta_single_page.original_image_url;
				  var uid=data.illust.user.id;
				  var pid=data.illust.id;
				  var title=data.illust.title;
				  var cap=data.illust.caption; 
				  var user=data.illust.user.name;
				  var tags=" ";
				  for (i = 0; i < data.illust.tags.length; i++) {
					tags += data.illust.tags[i].name + "<br>";
				  }
				  var nums=data.illust.page_count;
				  var view=data.illust.total_view;
				  var bkm=data.illust.total_bookmarks;
				  var time=data.illust.create_date;
				  var purl2="https://pixiv.cat/"+pid+".jpg";
				  
				  document.getElementById("purl2").innerHTML=purl2;
				  document.getElementById("purl").innerHTML=purl;
				  document.getElementById("pic").src = purl2;
				  document.getElementById("pic2").href = purl2;
				  document.getElementById("uid").innerHTML=uid;
				  document.getElementById("pid").innerHTML=pid;
				  document.getElementById("title").innerHTML=title;
				  document.getElementById("cap").innerHTML=cap;
				  document.getElementById("user").innerHTML=user;
				  document.getElementById("tags").innerHTML=tags;
				  document.getElementById("nums").innerHTML=nums;
				  document.getElementById("view").innerHTML=view;
				  document.getElementById("bkm").innerHTML=bkm;
				  document.getElementById("time").innerHTML=time;

		  }
		
)
</script>
<script>
	function get(){
		var id=document.getElementById("ppid").value;
		var api="<iframe src=\"https://api.ardor.one/illust/"+id+"\" style=\"width: 100%;height: 90%;\"></iframe>";
		document.getElementById("api").innerHTML=api;
		window.open("https://api.ardor.one/illust/"+id+"");
	}
</script>
</html>